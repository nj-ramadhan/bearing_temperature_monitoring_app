import numpy as np
from scipy.signal import find_peaks

array1 = np.array([0,0,0,0,30, 30, 30, 30, 39, 60, 70, 89, 94, 39, 30, 30, 30, 30, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0], dtype=float)
array2 = np.array([90, 90, 90, 90, 80, 60, 60, 60, 80, 90, 90, 90, 90, 90, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0], dtype=float)

# def finding_bearings(counting_wheel):
global arr_bearing_temps
arr_bearing_temps = array2

arr_bearing_trimmed = np.trim_zeros(arr_bearing_temps)
peaks, _ = find_peaks(arr_bearing_temps, height=60)  


middle_value = np.take(arr_bearing_trimmed, arr_bearing_trimmed.size // 2)

print(middle_value)
if arr_bearing_temps[peaks].size == 0:
        calc_bearing_temps = np.max(arr_bearing_temps)
        print("array trimmed", arr_bearing_trimmed)
        print("nilai suhu bearing tidak ada peak" , calc_bearing_temps)

else:
    if middle_value <= arr_bearing_temps[0]:
            calc_bearing_temps = middle_value
            print("array trimmed", arr_bearing_trimmed)
            print("nilai suhu bearing tidak normal" , calc_bearing_temps)
    else:
        calc_bearing_temps = np.max(arr_bearing_temps[peaks])
        print("nilai suhu bearing normal", calc_bearing_temps)


